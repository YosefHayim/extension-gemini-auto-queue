var aistudio=(function(){"use strict";var Ie=Object.defineProperty;var $e=(D,R,I)=>R in D?Ie(D,R,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[R]=I;var j=(D,R,I)=>$e(D,typeof R!="symbol"?R+"":R,I);function D(t){return t}function R(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I={exports:{}},c={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ce;function de(){if(ce)return c;ce=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),te=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,B={};function O(e,n,A){this.props=e,this.context=n,this.refs=B,this.updater=A||U}O.prototype.isReactComponent={},O.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},O.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H(){}H.prototype=O.prototype;function Q(e,n,A){this.props=e,this.context=n,this.refs=B,this.updater=A||U}var q=Q.prototype=new H;q.constructor=Q,F(q,O.prototype),q.isPureReactComponent=!0;var se=Array.isArray,G=Object.prototype.hasOwnProperty,o={current:null},a={key:!0,ref:!0,__self:!0,__source:!0};function u(e,n,A){var h,d={},E=null,w=null;if(n!=null)for(h in n.ref!==void 0&&(w=n.ref),n.key!==void 0&&(E=""+n.key),n)G.call(n,h)&&!a.hasOwnProperty(h)&&(d[h]=n[h]);var _=arguments.length-2;if(_===1)d.children=A;else if(1<_){for(var b=Array(_),C=0;C<_;C++)b[C]=arguments[C+2];d.children=b}if(e&&e.defaultProps)for(h in _=e.defaultProps,_)d[h]===void 0&&(d[h]=_[h]);return{$$typeof:t,type:e,key:E,ref:w,props:d,_owner:o.current}}function m(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function y(e){return typeof e=="object"&&e!==null&&e.$$typeof===t}function S(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(A){return n[A]})}var k=/\/+/g;function l(e,n){return typeof e=="object"&&e!==null&&e.key!=null?S(""+e.key):n.toString(36)}function v(e,n,A,h,d){var E=typeof e;(E==="undefined"||E==="boolean")&&(e=null);var w=!1;if(e===null)w=!0;else switch(E){case"string":case"number":w=!0;break;case"object":switch(e.$$typeof){case t:case r:w=!0}}if(w)return w=e,d=d(w),e=h===""?"."+l(w,0):h,se(d)?(A="",e!=null&&(A=e.replace(k,"$&/")+"/"),v(d,n,A,"",function(C){return C})):d!=null&&(y(d)&&(d=m(d,A+(!d.key||w&&w.key===d.key?"":(""+d.key).replace(k,"$&/")+"/")+e)),n.push(d)),1;if(w=0,h=h===""?".":h+":",se(e))for(var _=0;_<e.length;_++){E=e[_];var b=h+l(E,_);w+=v(E,n,A,b,d)}else if(b=ne(e),typeof b=="function")for(e=b.call(e),_=0;!(E=e.next()).done;)E=E.value,b=h+l(E,_++),w+=v(E,n,A,b,d);else if(E==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return w}function p(e,n,A){if(e==null)return e;var h=[],d=0;return v(e,h,"","",function(E){return n.call(A,E,d++)}),h}function M(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(A){(e._status===0||e._status===-1)&&(e._status=1,e._result=A)},function(A){(e._status===0||e._status===-1)&&(e._status=2,e._result=A)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var x={current:null},T={transition:null},Y={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:T,ReactCurrentOwner:o};function fe(){throw Error("act(...) is not supported in production builds of React.")}return c.Children={map:p,forEach:function(e,n,A){p(e,function(){n.apply(this,arguments)},A)},count:function(e){var n=0;return p(e,function(){n++}),n},toArray:function(e){return p(e,function(n){return n})||[]},only:function(e){if(!y(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},c.Component=O,c.Fragment=s,c.Profiler=g,c.PureComponent=Q,c.StrictMode=i,c.Suspense=z,c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,c.act=fe,c.cloneElement=function(e,n,A){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var h=F({},e.props),d=e.key,E=e.ref,w=e._owner;if(n!=null){if(n.ref!==void 0&&(E=n.ref,w=o.current),n.key!==void 0&&(d=""+n.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(b in n)G.call(n,b)&&!a.hasOwnProperty(b)&&(h[b]=n[b]===void 0&&_!==void 0?_[b]:n[b])}var b=arguments.length-2;if(b===1)h.children=A;else if(1<b){_=Array(b);for(var C=0;C<b;C++)_[C]=arguments[C+2];h.children=_}return{$$typeof:t,type:e.type,key:d,ref:E,props:h,_owner:w}},c.createContext=function(e){return e={$$typeof:P,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:f,_context:e},e.Consumer=e},c.createElement=u,c.createFactory=function(e){var n=u.bind(null,e);return n.type=e,n},c.createRef=function(){return{current:null}},c.forwardRef=function(e){return{$$typeof:N,render:e}},c.isValidElement=y,c.lazy=function(e){return{$$typeof:$,_payload:{_status:-1,_result:e},_init:M}},c.memo=function(e,n){return{$$typeof:K,type:e,compare:n===void 0?null:n}},c.startTransition=function(e){var n=T.transition;T.transition={};try{e()}finally{T.transition=n}},c.unstable_act=fe,c.useCallback=function(e,n){return x.current.useCallback(e,n)},c.useContext=function(e){return x.current.useContext(e)},c.useDebugValue=function(){},c.useDeferredValue=function(e){return x.current.useDeferredValue(e)},c.useEffect=function(e,n){return x.current.useEffect(e,n)},c.useId=function(){return x.current.useId()},c.useImperativeHandle=function(e,n,A){return x.current.useImperativeHandle(e,n,A)},c.useInsertionEffect=function(e,n){return x.current.useInsertionEffect(e,n)},c.useLayoutEffect=function(e,n){return x.current.useLayoutEffect(e,n)},c.useMemo=function(e,n){return x.current.useMemo(e,n)},c.useReducer=function(e,n,A){return x.current.useReducer(e,n,A)},c.useRef=function(e){return x.current.useRef(e)},c.useState=function(e){return x.current.useState(e)},c.useSyncExternalStore=function(e,n,A){return x.current.useSyncExternalStore(e,n,A)},c.useTransition=function(){return x.current.useTransition()},c.version="18.3.1",c}var ue;function he(){return ue||(ue=1,I.exports=de()),I.exports}var V=he();/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ye=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,i)=>i?i.toUpperCase():s.toLowerCase()),ge=t=>{const r=ye(t);return r.charAt(0).toUpperCase()+r.slice(1)},me=(...t)=>t.filter((r,s,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===s).join(" ").trim(),xe=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var be={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=V.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:g="",children:f,iconNode:P,...N},z)=>V.createElement("svg",{ref:z,...be,width:r,height:r,stroke:t,strokeWidth:i?Number(s)*24/Number(r):s,className:me("lucide",g),...!f&&!xe(N)&&{"aria-hidden":"true"},...N},[...P.map(([K,$])=>V.createElement(K,$)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=(t,r)=>{const s=V.forwardRef(({className:i,...g},f)=>V.createElement(Ee,{ref:f,iconNode:r,className:me(`lucide-${pe(ge(t))}`,`lucide-${t}`,i),...g}));return s.displayName=ge(t),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */L("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */L("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */L("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */L("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */L("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */L("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */L("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var oe=(t=>(t.GET_QUEUE="GET_QUEUE",t.UPDATE_QUEUE="UPDATE_QUEUE",t.GET_SETTINGS="GET_SETTINGS",t.UPDATE_SETTINGS="UPDATE_SETTINGS",t.GET_FOLDERS="GET_FOLDERS",t.UPDATE_FOLDERS="UPDATE_FOLDERS",t.PROCESS_QUEUE="PROCESS_QUEUE",t.STOP_PROCESSING="STOP_PROCESSING",t.GENERATE_IMAGE="GENERATE_IMAGE",t.OPEN_SIDE_PANEL="OPEN_SIDE_PANEL",t.PASTE_PROMPT="PASTE_PROMPT",t.ENABLE_IMAGE_CREATION="ENABLE_IMAGE_CREATION",t.SUBMIT_PROMPT="SUBMIT_PROMPT",t.PROMPT_SUBMITTED="PROMPT_SUBMITTED",t.GENERATION_COMPLETE="GENERATION_COMPLETE",t.CONTENT_SCRIPT_READY="CONTENT_SCRIPT_READY",t))(oe||{});const _e={matches:["https://aistudio.google.com/*"],runAt:"document_idle",main(){console.log("Gemini Nano Flow: Content script loaded on aistudio.google.com"),chrome.runtime.sendMessage({type:oe.OPEN_SIDE_PANEL}).catch(()=>{}),document.addEventListener("keydown",s=>{(s.ctrlKey||s.metaKey)&&s.shiftKey&&s.key==="g"&&(s.preventDefault(),chrome.runtime.sendMessage({type:oe.OPEN_SIDE_PANEL}).catch(console.error))});const t=()=>{document.querySelectorAll('[data-apikey], [aria-label*="API"]').length>0&&console.log("Gemini Nano Flow: AI Studio API key UI detected")};t();const r=new MutationObserver(s=>{t()});return r.observe(document.body,{childList:!0,subtree:!0}),()=>{r.disconnect()}}};var Z={exports:{}},we=Z.exports,Ae;function ve(){return Ae||(Ae=1,(function(t,r){(function(s,i){i(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:we,function(s){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)s.exports=globalThis.browser;else{const i="The message port closed before a response was received.",g=f=>{const P={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(P).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class N extends WeakMap{constructor(a,u=void 0){super(u),this.createItem=a}get(a){return this.has(a)||this.set(a,this.createItem(a)),super.get(a)}}const z=o=>o&&typeof o=="object"&&typeof o.then=="function",K=(o,a)=>(...u)=>{f.runtime.lastError?o.reject(new Error(f.runtime.lastError.message)):a.singleCallbackArg||u.length<=1&&a.singleCallbackArg!==!1?o.resolve(u[0]):o.resolve(u)},$=o=>o==1?"argument":"arguments",te=(o,a)=>function(m,...y){if(y.length<a.minArgs)throw new Error(`Expected at least ${a.minArgs} ${$(a.minArgs)} for ${o}(), got ${y.length}`);if(y.length>a.maxArgs)throw new Error(`Expected at most ${a.maxArgs} ${$(a.maxArgs)} for ${o}(), got ${y.length}`);return new Promise((S,k)=>{if(a.fallbackToNoCallback)try{m[o](...y,K({resolve:S,reject:k},a))}catch(l){console.warn(`${o} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,l),m[o](...y),a.fallbackToNoCallback=!1,a.noCallback=!0,S()}else a.noCallback?(m[o](...y),S()):m[o](...y,K({resolve:S,reject:k},a))})},ne=(o,a,u)=>new Proxy(a,{apply(m,y,S){return u.call(y,o,...S)}});let U=Function.call.bind(Object.prototype.hasOwnProperty);const F=(o,a={},u={})=>{let m=Object.create(null),y={has(k,l){return l in o||l in m},get(k,l,v){if(l in m)return m[l];if(!(l in o))return;let p=o[l];if(typeof p=="function")if(typeof a[l]=="function")p=ne(o,o[l],a[l]);else if(U(u,l)){let M=te(l,u[l]);p=ne(o,o[l],M)}else p=p.bind(o);else if(typeof p=="object"&&p!==null&&(U(a,l)||U(u,l)))p=F(p,a[l],u[l]);else if(U(u,"*"))p=F(p,a[l],u["*"]);else return Object.defineProperty(m,l,{configurable:!0,enumerable:!0,get(){return o[l]},set(M){o[l]=M}}),p;return m[l]=p,p},set(k,l,v,p){return l in m?m[l]=v:o[l]=v,!0},defineProperty(k,l,v){return Reflect.defineProperty(m,l,v)},deleteProperty(k,l){return Reflect.deleteProperty(m,l)}},S=Object.create(o);return new Proxy(S,y)},B=o=>({addListener(a,u,...m){a.addListener(o.get(u),...m)},hasListener(a,u){return a.hasListener(o.get(u))},removeListener(a,u){a.removeListener(o.get(u))}}),O=new N(o=>typeof o!="function"?o:function(u){const m=F(u,{},{getContent:{minArgs:0,maxArgs:0}});o(m)}),H=new N(o=>typeof o!="function"?o:function(u,m,y){let S=!1,k,l=new Promise(x=>{k=function(T){S=!0,x(T)}}),v;try{v=o(u,m,k)}catch(x){v=Promise.reject(x)}const p=v!==!0&&z(v);if(v!==!0&&!p&&!S)return!1;const M=x=>{x.then(T=>{y(T)},T=>{let Y;T&&(T instanceof Error||typeof T.message=="string")?Y=T.message:Y="An unexpected error occurred",y({__mozWebExtensionPolyfillReject__:!0,message:Y})}).catch(T=>{console.error("Failed to send onMessage rejected reply",T)})};return M(p?v:l),!0}),Q=({reject:o,resolve:a},u)=>{f.runtime.lastError?f.runtime.lastError.message===i?a():o(new Error(f.runtime.lastError.message)):u&&u.__mozWebExtensionPolyfillReject__?o(new Error(u.message)):a(u)},q=(o,a,u,...m)=>{if(m.length<a.minArgs)throw new Error(`Expected at least ${a.minArgs} ${$(a.minArgs)} for ${o}(), got ${m.length}`);if(m.length>a.maxArgs)throw new Error(`Expected at most ${a.maxArgs} ${$(a.maxArgs)} for ${o}(), got ${m.length}`);return new Promise((y,S)=>{const k=Q.bind(null,{resolve:y,reject:S});m.push(k),u.sendMessage(...m)})},se={devtools:{network:{onRequestFinished:B(O)}},runtime:{onMessage:B(H),onMessageExternal:B(H),sendMessage:q.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:q.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},G={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return P.privacy={network:{"*":G},services:{"*":G},websites:{"*":G}},F(f,se,P)};s.exports=g(chrome)}})})(Z)),Z.exports}var Se=ve();const J=R(Se);function X(t,...r){}const ke={debug:(...t)=>X(console.debug,...t),log:(...t)=>X(console.log,...t),warn:(...t)=>X(console.warn,...t),error:(...t)=>X(console.error,...t)},re=class re extends Event{constructor(r,s){super(re.EVENT_NAME,{}),this.newUrl=r,this.oldUrl=s}};j(re,"EVENT_NAME",ae("wxt:locationchange"));let ie=re;function ae(t){var r;return`${(r=J==null?void 0:J.runtime)==null?void 0:r.id}:aistudio:${t}`}function Te(t){let r,s;return{run(){r==null&&(s=new URL(location.href),r=t.setInterval(()=>{let i=new URL(location.href);i.href!==s.href&&(window.dispatchEvent(new ie(i,s)),s=i)},1e3))}}}const W=class W{constructor(r,s){j(this,"isTopFrame",window.self===window.top);j(this,"abortController");j(this,"locationWatcher",Te(this));j(this,"receivedMessageIds",new Set);this.contentScriptName=r,this.options=s,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(r){return this.abortController.abort(r)}get isInvalid(){return J.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(r){return this.signal.addEventListener("abort",r),()=>this.signal.removeEventListener("abort",r)}block(){return new Promise(()=>{})}setInterval(r,s){const i=setInterval(()=>{this.isValid&&r()},s);return this.onInvalidated(()=>clearInterval(i)),i}setTimeout(r,s){const i=setTimeout(()=>{this.isValid&&r()},s);return this.onInvalidated(()=>clearTimeout(i)),i}requestAnimationFrame(r){const s=requestAnimationFrame((...i)=>{this.isValid&&r(...i)});return this.onInvalidated(()=>cancelAnimationFrame(s)),s}requestIdleCallback(r,s){const i=requestIdleCallback((...g)=>{this.signal.aborted||r(...g)},s);return this.onInvalidated(()=>cancelIdleCallback(i)),i}addEventListener(r,s,i,g){var f;s==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(f=r.addEventListener)==null||f.call(r,s.startsWith("wxt:")?ae(s):s,i,{...g,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),ke.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:W.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(r){var f,P,N;const s=((f=r.data)==null?void 0:f.type)===W.SCRIPT_STARTED_MESSAGE_TYPE,i=((P=r.data)==null?void 0:P.contentScriptName)===this.contentScriptName,g=!this.receivedMessageIds.has((N=r.data)==null?void 0:N.messageId);return s&&i&&g}listenForNewerScripts(r){let s=!0;const i=g=>{if(this.verifyScriptStartedEvent(g)){this.receivedMessageIds.add(g.data.messageId);const f=s;if(s=!1,f&&(r!=null&&r.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",i),this.onInvalidated(()=>removeEventListener("message",i))}};j(W,"SCRIPT_STARTED_MESSAGE_TYPE",ae("wxt:content-script-started"));let le=W;const Pe=Symbol("null");let Ce=0;class Ne extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[r]=arguments;if(r!=null){if(typeof r[Symbol.iterator]!="function")throw new TypeError(typeof r+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[s,i]of r)this.set(s,i)}}_getPublicKeys(r,s=!1){if(!Array.isArray(r))throw new TypeError("The keys parameter must be an array");const i=this._getPrivateKey(r,s);let g;return i&&this._publicKeys.has(i)?g=this._publicKeys.get(i):s&&(g=[...r],this._publicKeys.set(i,g)),{privateKey:i,publicKey:g}}_getPrivateKey(r,s=!1){const i=[];for(let g of r){g===null&&(g=Pe);const f=typeof g=="object"||typeof g=="function"?"_objectHashes":typeof g=="symbol"?"_symbolHashes":!1;if(!f)i.push(g);else if(this[f].has(g))i.push(this[f].get(g));else if(s){const P=`@@mkm-ref-${Ce++}@@`;this[f].set(g,P),i.push(P)}else return!1}return JSON.stringify(i)}set(r,s){const{publicKey:i}=this._getPublicKeys(r,!0);return super.set(i,s)}get(r){const{publicKey:s}=this._getPublicKeys(r);return super.get(s)}has(r){const{publicKey:s}=this._getPublicKeys(r);return super.has(s)}delete(r){const{publicKey:s,privateKey:i}=this._getPublicKeys(r);return!!(s&&super.delete(s)&&this._publicKeys.delete(i))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new Ne;function Be(){}function ee(t,...r){}const Re={debug:(...t)=>ee(console.debug,...t),log:(...t)=>ee(console.log,...t),warn:(...t)=>ee(console.warn,...t),error:(...t)=>ee(console.error,...t)};return(async()=>{try{const{main:t,...r}=_e,s=new le("aistudio",r);return await t(s)}catch(t){throw Re.error('The content script "aistudio" crashed on startup!',t),t}})()})();
aistudio;

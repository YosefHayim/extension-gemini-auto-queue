import{c as y,r as o,D as C,T as d,j as e,S as z,a as F,M as K,K as I,E as M,b as T,d as E,C as f,G as v,e as G,g as R,s as j,v as D,R as P,f as L}from"./client-CZriHQlm.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H=y("circle-x",_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],O=y("refresh-cw",V);function q(){const[l,i]=o.useState(C),[r,u]=o.useState(""),[c,N]=o.useState(!1),[b,m]=o.useState(!1),[h,n]=o.useState(null),[S,x]=o.useState(!1),[g,p]=o.useState(!1),t=l.theme===d.DARK;o.useEffect(()=>{(async()=>{const a=await R();i(a),a.apiKey&&u(a.apiKey)})()},[]);const k=async()=>{m(!0),n(null);try{await j({...l,apiKey:r});const s=await D();n(s)}catch{n(!1)}finally{m(!1)}},A=async()=>{x(!0);try{const s={...l,apiKey:r||void 0};await j(s),i(s),p(!0),setTimeout(()=>p(!1),2e3)}catch(s){console.error("Failed to save settings:",s)}finally{x(!1)}},$=()=>{i(s=>({...s,theme:s.theme===d.DARK?d.LIGHT:d.DARK}))};return e.jsx("div",{className:`min-h-screen transition-colors duration-500 ${t?"bg-[#0a0a0a] text-white":"bg-[#f8fafc] text-[#1e293b]"}`,children:e.jsxs("div",{className:"max-w-2xl mx-auto p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-600 shadow-lg shadow-blue-600/20",children:e.jsx(z,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black tracking-tight",children:"Gemini Nano Flow"}),e.jsx("p",{className:"text-sm opacity-60",children:"Extension Settings"})]}),e.jsx("button",{onClick:$,className:`ml-auto p-2 rounded-lg transition-all ${t?"bg-white/5 hover:bg-white/10":"bg-slate-100 hover:bg-slate-200"}`,children:t?e.jsx(F,{size:20,className:"text-amber-400"}):e.jsx(K,{size:20,className:"text-blue-500"})})]}),e.jsxs("div",{className:`p-6 rounded-xl border mb-6 ${t?"bg-white/5 border-white/10":"bg-white border-slate-200 shadow-sm"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(I,{size:20,className:"text-blue-500"}),e.jsx("h2",{className:"text-lg font-bold",children:"API Key Configuration"})]}),e.jsx("p",{className:`text-sm mb-4 ${t?"opacity-60":"text-slate-600"}`,children:"Your Gemini API key is required for image generation. Get your key from Google AI Studio. The key is stored securely in your browser and never shared."}),e.jsxs("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-500 hover:underline mb-4",children:["Get API Key from AI Studio ",e.jsx(M,{size:14})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",value:r,onChange:s=>{u(s.target.value),n(null)},placeholder:"AIzaSy...",className:`w-full p-3 pr-24 rounded-lg border font-mono text-sm outline-none transition-all ${t?"bg-black/40 border-white/10 focus:border-blue-500/50":"bg-slate-50 border-slate-200 focus:border-blue-500"}`}),e.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[e.jsx("button",{type:"button",onClick:()=>N(!c),className:"p-2 opacity-40 hover:opacity-100 transition-all",children:c?e.jsx(T,{size:16}):e.jsx(E,{size:16})}),e.jsx("button",{type:"button",onClick:k,disabled:!r||b,className:`p-2 rounded-md transition-all ${b?"opacity-50":"opacity-40 hover:opacity-100 hover:bg-blue-500/20"}`,children:e.jsx(O,{size:16,className:b?"animate-spin":""})})]})]}),h!==null&&e.jsx("div",{className:`flex items-center gap-2 text-sm p-3 rounded-lg ${h?"bg-emerald-500/10 text-emerald-500":"bg-red-500/10 text-red-500"}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(f,{size:16})," API key is valid and working"]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{size:16})," API key validation failed. Please check your key."]})})]})]}),e.jsxs("div",{className:`p-6 rounded-xl border mb-6 ${t?"bg-white/5 border-white/10":"bg-white border-slate-200 shadow-sm"}`,children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Default Model"}),e.jsxs("select",{value:l.primaryModel,onChange:s=>i(a=>({...a,primaryModel:s.target.value})),className:`w-full p-3 rounded-lg border text-sm font-bold outline-none transition-all appearance-none ${t?"bg-black/40 border-white/10 focus:border-blue-500/50":"bg-slate-50 border-slate-200 focus:border-blue-500"}`,children:[e.jsx("option",{value:v.FLASH,children:"Flash 2.0 (High Speed)"}),e.jsx("option",{value:v.PRO,children:"Imagen 3 (High Fidelity)"})]})]}),e.jsxs("div",{className:`p-6 rounded-xl border mb-6 ${t?"bg-white/5 border-white/10":"bg-white border-slate-200 shadow-sm"}`,children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Default Prompt Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold opacity-60 block mb-2",children:"Global Prefix"}),e.jsx("input",{value:l.prefix,onChange:s=>i(a=>({...a,prefix:s.target.value})),placeholder:"Text to prepend to all prompts...",className:`w-full p-3 rounded-lg border text-sm outline-none transition-all ${t?"bg-black/40 border-white/10 focus:border-blue-500/50":"bg-slate-50 border-slate-200 focus:border-blue-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold opacity-60 block mb-2",children:"Global Suffix"}),e.jsx("input",{value:l.suffix,onChange:s=>i(a=>({...a,suffix:s.target.value})),placeholder:"Text to append to all prompts...",className:`w-full p-3 rounded-lg border text-sm outline-none transition-all ${t?"bg-black/40 border-white/10 focus:border-blue-500/50":"bg-slate-50 border-slate-200 focus:border-blue-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold opacity-60 block mb-2",children:"Negative Prompts"}),e.jsx("textarea",{value:l.globalNegatives,onChange:s=>i(a=>({...a,globalNegatives:s.target.value})),placeholder:"Things to avoid in generations...",rows:3,className:`w-full p-3 rounded-lg border text-sm outline-none transition-all resize-none ${t?"bg-black/40 border-white/10 focus:border-blue-500/50":"bg-slate-50 border-slate-200 focus:border-blue-500"}`})]})]})]}),e.jsxs("div",{className:`p-6 rounded-xl border mb-6 ${t?"bg-white/5 border-white/10":"bg-white border-slate-200 shadow-sm"}`,children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Advanced Settings"}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Drip Feed Mode"}),e.jsx("p",{className:"text-sm opacity-40",children:"Add random delays between generations to avoid rate limiting"})]}),e.jsx("button",{onClick:()=>i(s=>({...s,dripFeed:!s.dripFeed})),className:`w-12 h-6 rounded-full transition-all relative ${l.dripFeed?"bg-blue-600":"bg-white/10"}`,children:e.jsx("div",{className:`absolute w-5 h-5 rounded-full bg-white top-0.5 transition-all shadow-md ${l.dripFeed?"left-6":"left-0.5"}`})})]})]}),e.jsx("button",{onClick:A,disabled:S,className:`w-full p-4 rounded-xl font-black text-white flex items-center justify-center gap-2 transition-all ${g?"bg-emerald-600":"bg-blue-600 hover:bg-blue-500 shadow-lg shadow-blue-600/20"}`,children:g?e.jsxs(e.Fragment,{children:[e.jsx(f,{size:20})," Settings Saved"]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{size:20})," Save Settings"]})}),e.jsx("p",{className:"text-center text-sm opacity-40 mt-8",children:"Gemini Nano Flow v1.0.0 - Built with WXT"})]})})}const w=document.getElementById("root");if(!w)throw new Error("Could not find root element to mount to");const B=P.createRoot(w);B.render(e.jsx(L.StrictMode,{children:e.jsx(q,{})}));
